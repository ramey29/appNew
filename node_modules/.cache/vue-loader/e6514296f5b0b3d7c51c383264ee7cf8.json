{"remainingRequest":"/Users/rameshwarbishnoi/ramey29.github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/rameshwarbishnoi/ramey29.github.io/src/components/ConversionHistory.vue?vue&type=style&index=0&id=37c6039e&lang=scss&scoped=true&","dependencies":[{"path":"/Users/rameshwarbishnoi/ramey29.github.io/src/components/ConversionHistory.vue","mtime":1552747553833},{"path":"/Users/rameshwarbishnoi/ramey29.github.io/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/rameshwarbishnoi/ramey29.github.io/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/rameshwarbishnoi/ramey29.github.io/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/rameshwarbishnoi/ramey29.github.io/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/rameshwarbishnoi/ramey29.github.io/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rameshwarbishnoi/ramey29.github.io/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.mainContainer {width:100%;\n   .searchConatiner{background:url(./../assets/img/foodBg.jpg) no-repeat;background-position:100% 50%;width:100%;height:250px;background-size:cover;position:relative;\n    .searchInner{position:absolute;top:50%;left:50%;transform: translate(-50%,-50%);min-width:60%;}\n    input{width:80%;border: unset;position:relative;}\n    .btnDv{display: inline-block;width:16%;padding-left:20px;}\n    .searchResultDv{margin-top: 20px;background: lightgrey;padding: 10px;\n        span{display:inline-block;background: #fff;padding:2px 4px;margin-right:4px;\n        .close{margin:0 2px; cursor:pointer; color: grey;}}\n    }\n   }\n   .restaurantConatiner{\n       width:90%;padding:2% 5%;\n       .restCard{box-shadow: 0 6px 14px 6px rgba(0, 0, 0, 0.08); width:98%;padding:2%;margin-bottom:30px;\n           .restImgDv{width:10%;img{width:110px;height:110px;}}\n           .restContentDv{width:88%;\n               .restName{font-size:16px;line-height:18px;font-weight:bold;margin-bottom:10px;}\n               .restfoodType{font-size:13px;}\n               .restBottom{font-size:14px;margin-top:40px;\n                .starSpan{display:inline-block;width:10%; img{width:18px;height:18px;vertical-align:-4px;padding-right:4px;}}\n                .timeSpan{display:inline-block;width:10%; img{width:16px;height:16px;vertical-align:-3px;padding-right:4px;}}\n               \n               }\n           }\n       }\n       .sorterDV{margin-bottom:20px;width:100%;\n       .btnDv{display: inline-block;width:12%;padding-left:20px;}\n       }\n   }\n}\n",{"version":3,"sources":["ConversionHistory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ConversionHistory.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"mainContainer\">\n        <div class=\"searchConatiner\">\n            <div class=\"searchInner\">\n                <div class=\"w100\">\n                    <input @keyup=\"Emptysearch\" v-on:keyup.enter=\"search(searchTerm)\" v-on:keydown.enter=\"Emptysearch()\"  type=\"text\" class=\"\" v-model=\"searchTerm\" placeholder=\"Search for restaurants near you\" autocomplete=\"on\" id=\"searchInput\"/>\n                    <div class=\"btnDv\">\n                    <button class=\"btn new-btn\" type=\"button\" @click=\"search(searchTerm)\">\n                        <span class=\"search-icon\" >SEARCH</span>\n                    </button>\n                    </div>\n                    <div class=\"searchResultDv\" v-if=\"tagsBoolean\" >Search results for : <span v-for=\"(tag, index) in tags\" :key=\"index\">{{tag}} <span class=\"close\" @click=\"close($event,index)\"> | x</span> </span></div>\n                </div>\n                \n            </div>\n        </div>\n        <div class=\"restaurantConatiner\">\n            <div class=\"sorterDV\">\n                    <span>SORT BY: </span>\n                    <div class=\"btnDv\">\n                    <button class=\"btn new-btn\" type=\"button\"  @click=\"sortRestaurant(time)\">\n                        <span class=\"search-icon\">DELIVERY TIME</span>\n                    </button>\n                    </div>\n                    <div class=\"btnDv\">\n                    <button class=\"btn new-btn\" type=\"button\" @click=\"sortRestaurant(rating)\">\n                        <span class=\"search-icon\">RATINGS</span>\n                    </button>\n                    </div>\n            </div>\n            <div class=\"restCard clearfix\" v-for=\"(restaurant, index) in restaurants\" :key=\"index\">\n                <div class=\"restImgDv fLft\"><img :src=\"restaurant.img\" /></div>\n                <div class=\"restContentDv fLft\">\n                    <div class=\"restName\">{{restaurant.name}}</div>\n                    <div class=\"restfoodType\">{{restaurant.foodtype.toString()}}</div>\n                    <div class=\"restBottom\"><span class=\"starSpan\"><img alt=\"star image\" src=\"./../assets/img/star.svg\" />{{restaurant.starrating}}</span><span class=\"timeSpan\"><img alt=\"star image\" src=\"./../assets/img/clock.svg\" />{{restaurant.timeclosest}} MINS</span></div>\n                </div>\n            </div>\n        </div>\n\n        <!-- <Pagination :options=\"{page: _page, totalItems: totalItems, limit: _limit}\" @onPaginate=\"paginate\"></Pagination> -->\n    </div>\n</template>\n\n<script>\nimport AppConversionService from './../service/appConversionService';\nimport Utils from './../common/Utils';\nimport { publishEvent } from '../common/Observer';\nimport {autocomplete} from \"./../service/autoComplete\"\n\n\nexport default {\n   \n    data() {\n        return {\n            searchTerm:'',\n            time:'time',\n            rating:'rating',\n            restaurants: [],\n            tags:[],\n            tagsBoolean:false,\n            order:'asc',\n            autocompleteVar: [\"pizzas\", \"pastry\"],\n            page: 1,\n            limit: 40,\n            totalCount: 30\n        }\n    },\n     components: {\n        //Pagination\n    },\n    created() {\n        this.fetchTransactions(this.limit, this.page, null, null);\n    },\n    mounted(){\n          \n            \n    },\n    methods: { \n        autoComplete(){\n            autocomplete(document.getElementById(\"searchInput\"), this.autocompleteVar);\n        },\n        \n        close($event,index){\n            $event.target.parentNode.remove();\n            this.tags.splice(index,1);\n            this.searchTerm = this.tags.join(' ');\n            console.log(this.tags);\n            if(this.tags.length < 1){\n                this.tagsBoolean = false;\n                this.fetchTransactions(this.limit, this.page, null, null);\n            }else{\n                this.search(this.searchTerm);\n            }\n           \n        },\n\n        sortRestaurant(sortText){\n            sortText == 'time' ? sortText='timeclosest': sortText='starrating';\n            this.fetchTransactions(this.limit, this.page, sortText, 'asc') ;\n        },\n\n        fetchTransactions(_limit, _page, _sort, _order) {\n            AppConversionService.getRestaurant(_limit, _page, _sort, _order)\n                .then(response => {\n                    console.log(response)\n                    this.restaurants = response.data;\n                    this.totalCount =  response.headers[\"x-total-count\"];\n                    localStorage.setItem('restaurants', JSON.stringify(this.restaurants));\n                    \n                })\n                .catch(error => {\n              \n                });\n        },\n\n        search(text) {\n            if (this.searchTerm != '') {\n            this.showViewAll = 'false';\n            this.tags = [];\n            this.tags = text.split(' ');\n            this.tagsBoolean =  true;\n            } else {\n            this.Emptysearch();\n            return;\n            }\n            let searchResults = []\n            let searchText = text.toLowerCase();\n            for (var i = 0; i < this.restaurants.length; i++) {\n            let name = this.restaurants[i].name.toLowerCase().search(searchText);\n            \n            const abc = this.restaurants[i].foodtype.filter(foodtypes => foodtypes.toLowerCase().indexOf(searchText) > -1);\n            if (name > -1 || abc.length > 0) {\n                searchResults.push(this.restaurants[i]);\n                this.autocompleteVar.push(this.restaurants[i].name);\n            }\n            }\n            this.autocompleteVar.push(text);\n            localStorage.setItem('autocompleteVar', JSON.stringify(this.autocompleteVar));\n            this.noSearchResults = (searchResults.length == 0) ? true : false\n            this.restaurants = [...searchResults];\n      },\n\n      Emptysearch() {\n           if (this.searchTerm != '') {} else {\n            this.noSearchResults = false;\n            this.showViewAll = 'true';\n            this.tagsBoolean =  false;\n            this.fetchTransactions(this.limit, this.page, null, null);\n            }\n        },\n      \n        \n    },\n    computed:{\n        \n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.mainContainer {width:100%;\n   .searchConatiner{background:url(./../assets/img/foodBg.jpg) no-repeat;background-position:100% 50%;width:100%;height:250px;background-size:cover;position:relative;\n    .searchInner{position:absolute;top:50%;left:50%;transform: translate(-50%,-50%);min-width:60%;}\n    input{width:80%;border: unset;position:relative;}\n    .btnDv{display: inline-block;width:16%;padding-left:20px;}\n    .searchResultDv{margin-top: 20px;background: lightgrey;padding: 10px;\n        span{display:inline-block;background: #fff;padding:2px 4px;margin-right:4px;\n        .close{margin:0 2px; cursor:pointer; color: grey;}}\n    }\n   }\n   .restaurantConatiner{\n       width:90%;padding:2% 5%;\n       .restCard{box-shadow: 0 6px 14px 6px rgba(0, 0, 0, 0.08); width:98%;padding:2%;margin-bottom:30px;\n           .restImgDv{width:10%;img{width:110px;height:110px;}}\n           .restContentDv{width:88%;\n               .restName{font-size:16px;line-height:18px;font-weight:bold;margin-bottom:10px;}\n               .restfoodType{font-size:13px;}\n               .restBottom{font-size:14px;margin-top:40px;\n                .starSpan{display:inline-block;width:10%; img{width:18px;height:18px;vertical-align:-4px;padding-right:4px;}}\n                .timeSpan{display:inline-block;width:10%; img{width:16px;height:16px;vertical-align:-3px;padding-right:4px;}}\n               \n               }\n           }\n       }\n       .sorterDV{margin-bottom:20px;width:100%;\n       .btnDv{display: inline-block;width:12%;padding-left:20px;}\n       }\n   }\n}\n</style>\n"]}]}